<!DOCTYPE html>
<html>
	<head>
		<title>NBN Countdown</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="http://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet" type="text/css">
		<link href="http://fonts.googleapis.com/css?family=PT+Mono" rel="stylesheet" type="text/css">
		<!-- Google Fonts seems horribly buggy when trying to load more than one at a time -->
		<style type="text/css">
			p {
				font-family: "PT Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
				font-size: 5em;
				text-align:center;
			}
			.number {
				font-weight: 7em;
				font-family: "PT Mono", monospace;
				font-weight: bold;
			}
			.smaller {
				font-size: 4em;
			}
			.tiny {
				font-size: 1em;
			}
		</style>
	</head>
	<body>
		<p>Malcolm Turnbull has <span id="days" class="number"></span> days<br/>
		to deliver <span class="number">25</span> megabit broadband<br/>to <span id="properties" class="number"></span> properties.</p>
		<p class="smaller">That is <span id="perday" class="number"></span> per day.</p>
		<p class="tiny">Currently based off numbers released by ABS and NBN Co, numbers will be updated as needed once relevant information is available.</p>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
		<script type="text/javascript">
			var properties_left = Math.round((9117033*0.71)-397063);
			// Currently: 71% of total dwellings - already passed by FTTH
			// 9117033 dwellings		http://www.censusdata.abs.gov.au/census_services/getproduct/census/2011/quickstat/0
			// To 71% of the population	http://delimiter.com.au/2013/09/07/fttp-dream-coalition-victory-kills-labors-nbn/
			// 397063 properties passed	http://www.nbnco.com.au/about-us/weekly-progress-report.html
			$(function() {
				var now=new Date(),dateEnd=new Date(2016,11,31),days=Math.round((dateEnd-now)/1000/60/60/24);
				$("#days").html(commas(days));
				$("#properties").html(commas(properties_left));
				$("#perday").html(commas(Math.floor(properties_left/days)));
			});
			function commas(input) {
				input = ""+input;
				return input.replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
			}
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-5832958-18']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</body>
</html>
